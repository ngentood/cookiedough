<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Cookiedough</title>
		<style>
			body {
				margin: 0;
				padding: 0;
				font-family: Arial, sans-serif;
				font-size: 14px;
			}
			#container {
				padding: 20px;
				min-width: 400px;
			}
			.error-message {
				color: #d32f2f;
				background-color: #ffebee;
				padding: 10px;
				border-radius: 4px;
				margin: 10px 0;
				border: 1px solid #ffcdd2;
			}
			.loading {
				text-align: center;
				padding: 20px;
				color: #666;
			}
		</style>
	</head>
	<body>
		<div id="container">
			<div id="loading" class="loading">Loading Cookiedough...</div>
			<div id="error" class="error-message" style="display: none;"></div>
			<div id="app"></div>
		</div>
		<script>
			// Error handling for script loading
			window.addEventListener('error', function(e) {
				console.error('Script error:', e.error);
				const errorDiv = document.getElementById('error');
				const loadingDiv = document.getElementById('loading');
				const appDiv = document.getElementById('app');

				if (errorDiv) {
					errorDiv.textContent = 'Error loading extension: ' + (e.error?.message || 'Unknown error');
					errorDiv.style.display = 'block';
				}
				if (loadingDiv) loadingDiv.style.display = 'none';
				if (appDiv) appDiv.style.display = 'none';
			});

			// Error handling for unhandled promise rejections
			window.addEventListener('unhandledrejection', function(e) {
				console.error('Unhandled promise rejection:', e.reason);
				const errorDiv = document.getElementById('error');
				const loadingDiv = document.getElementById('loading');
				const appDiv = document.getElementById('app');

				if (errorDiv) {
					errorDiv.textContent = 'Extension error: ' + (e.reason?.message || 'Unknown error');
					errorDiv.style.display = 'block';
				}
				if (loadingDiv) loadingDiv.style.display = 'none';
				if (appDiv) appDiv.style.display = 'none';
			});
		</script>
		<script src="js/popup.js"></script>
	</body>
</html>